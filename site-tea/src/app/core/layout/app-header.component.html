<a
  href="#conteudo"
  class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2
     bg-blue-600 text-white px-3 py-1 rounded"
>
  Pular para o conte√∫do
</a>

<header
  class="sticky top-0 z-50 bg-slate-900/80 backdrop-blur border-b border-white/10"
>
  <div
    class="mx-auto max-w-6xl px-4 h-14 flex items-center justify-between"
  >
    <a routerLink="/" class="font-semibold text-white tracking-tight"
      >PortalTEA</a
    >

    <!-- Bot√£o mobile -->
    <button
      class="md:hidden p-2 rounded-lg border border-white/10 text-zinc-200 hover:bg-white/5 focus:outline-none focus:ring-2 focus:ring-blue-500"
      (click)="open.set(!open())"
      [attr.aria-expanded]="open()"
      aria-label="Abrir menu"
    >
      <svg
        width="22"
        height="22"
        viewBox="0 0 24 24"
        fill="none"
      >
        <path
          d="M4 7h16M4 12h16M4 17h16"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
        />
      </svg>
    </button>

    <!-- Menu desktop -->
    <nav class="hidden md:flex gap-6 text-sm text-zinc-300 items-center">
      <a
        routerLink="/"
        routerLinkActive="text-white"
        class="hover:text-white"
        >In√≠cio</a
      >
      <a
        routerLink="/m-chat"
        routerLinkActive="text-white"
        class="hover:text-white"
      >
        M-Chat
      </a>
      <a
        routerLink="/dashboard"
        routerLinkActive="text-white"
        class="hover:text-white"
      >
        Dashboard
      </a>
      <!-- üîê Somente se logado -->
      <ng-container *ngIf="auth.isAuthenticated()">
        <a
          routerLink="/paineis"
          routerLinkActive="text-white"
          class="hover:text-white"
          >Pain√©is</a
        >
        <a
          routerLink="/rastreamento"
          routerLinkActive="text-white"
          class="hover:text-white"
          >Rastreamento</a
        >
        <a
          routerLink="/recursos"
          routerLinkActive="text-white"
          class="hover:text-white"
          >Recursos</a
        >
        <button
          type="button"
          (click)="logout()"
          class="text-sm text-red-400 hover:text-red-300 transition"
        >
          Sair
        </button>
      </ng-container>

      <!-- üîì Quando deslogado -->
    <ng-container *ngIf="!auth.isAuthenticated()">
      <a
        routerLink="/login"
        routerLinkActive="text-white"
        class="hover:text-white"
      >
        Entrar
      </a>
      </ng-container>
    </nav>
  </div>

  <!-- Menu mobile -->
  <div
    *ngIf="open()"
    class="md:hidden border-t border-white/10 bg-slate-900/95"
  >
    <nav
      class="mx-auto max-w-6xl px-4 py-3 flex flex-col gap-2 text-zinc-200"
    >
      <a
        (click)="open.set(false)"
        routerLink="/"
        class="py-2 hover:text-white"
        >In√≠cio</a
      >

      <!-- üîê Somente logado -->
      <ng-container *ngIf="auth.isAuthenticated(); else loginLink">
        <a
          (click)="open.set(false)"
          routerLink="/paineis"
          class="py-2 hover:text-white"
          >Pain√©is</a
        >
        <a
          (click)="open.set(false)"
          routerLink="/rastreamento"
          class="py-2 hover:text-white"
          >Rastreamento</a
        >
        <a
          (click)="open.set(false)"
          routerLink="/recursos"
          class="py-2 hover:text-white"
          >Recursos</a
        >
        <button
          (click)="logout(); open.set(false)"
          class="py-2 text-left text-red-400 hover:text-red-300"
        >
          Sair
        </button>
      </ng-container>

      <!-- üîì Deslogado -->
      <ng-template #loginLink>
        <a
          (click)="open.set(false)"
          routerLink="/login"
          class="py-2 hover:text-white"
          >Entrar</a
        >
      </ng-template>
    </nav>
  </div>
</header>
